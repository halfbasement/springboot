<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.boot.app.board.domain.uploadfile.UploadFileMapper">

    <insert id="insertFile">
   <![CDATA[
        insert into file(uuid, path, file_name,file_type,post_id)
        values (#{uuid},#{path},#{fileName},#{fileType},#{postId})
        ]]>
    </insert>

    <delete id="deleteFile" parameterType="Long">
        delete from file where file_id = #{fileId}
    </delete>

    <select id="findByPostId" resultType="UploadFile">
        select * from file where post_id=#{postId}
    </select>
</mapper>